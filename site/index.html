<!DOCTYPE html>
<html>
  <head>
    <title>Random Beyonc&eacute;</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:image" content="http://i1.ytimg.com/vi/TGyQQUsNLsY/hqdefault.jpg" />
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/site.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
        <div class="row">
            <span id="header" class="span6 offset2">Random Beyonc&eacute;</span>
            <span id="tagline" class="span4">She's a she's a diva</span>
            <div id="video-container" class="span8 offset2">
                <div id="video">
                <noscript>
                    <img alt="Queen Bey" src="http://i1.ytimg.com/vi/TGyQQUsNLsY/hqdefault.jpg"/>
                    <p>Sorry, The Queen demands you have a better browser.</p>
                </noscript>
                </div>
            </div>
        </div>
    </div>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script type="text/javascript">
        var video_el = document.getElementById('video');
        var beyonces = [
            "QczgvUDskk0",
            "VBmMU_iwe6U",
            "4m1EFMoRFvY",
            "FHp2KgyQUFk",
            "2EwViQxSJJQ",
            "sQgd6MccwZc",
            "Ob7vObnFUJc",
            "2XY3AvVgDns",
            "QczgvUDskk0",
            "CGkvXp0vdng",
            "eY_mrU8MPfI",
            "hbnPkK76Ask",
            "JlxByc0-V40",
            "TGyQQUsNLsY",
            "rNM5HW13_O8",
            "Q1dUDzBdnmI",
            "RioOJ7dZxuw",
            "ViwtNLUqkMY",
        ];

        var array_pop = function(arr, i) {
            // slice() modifies the array in-place and returns an array
            // of the element we want.
            return arr.splice(i,1)[0]; 
        }

        var get_random_beyonce = function() {
            var i = Math.floor((Math.random()*beyonces.length));
            // Pops out the video ID we're using so we don't re-use
            return array_pop(beyonces, i);
        }


        // 3. This function creates an <iframe> (and YouTube player)
        //    after the API code downloads.
        var player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('video', {
                height: '0',
                width: '0',
                videoId: get_random_beyonce(),
                events: {
                  'onReady': function onPlayerReady(event) {
                        event.target.playVideo();
                  },
                  'onStateChange': function onPlayerStateChange(event) {
                        // When the video is done, we load up a new one.
                        if (event.data == YT.PlayerState.ENDED) {
                            player.loadVideoById(get_random_beyonce());
                        }
                    }
                }
            });
        }
    </script>
    <script>
      /* Google Analytics */
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-45849429-1', 'randombeyonce.com');
      ga('send', 'pageview');
    </script>
  </body>
</html>
